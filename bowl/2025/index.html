<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ–≤–µ—Ä–∫–∞ –ö–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; margin: 20px; background-color: #f4f4f4; color: #333; }
        h1, h2 { color: #0056b3; }
        .result-item { background-color: white; border: 1px solid #ddd; padding: 15px; margin-bottom: 10px; border-radius: 8px; }
        .result-item.passed { border-left: 5px solid #28a745; }
        .result-item.failed { border-left: 5px solid #dc3545; background-color: #fff0f0; }
        .result-item h3 { margin-top: 0; }
        .result-item ul { list-style: none; padding-left: 0; }
        .result-item ul li { color: #dc3545; margin-bottom: 5px; }
        .button { background-color: #007bff; color: white; padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer; text-decoration: none; margin-top: 15px; }
        .button:hover { background-color: #0056b3; }
    </style>
</head>
<body>
    <h1>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ü—Ä–æ–≤–µ—Ä–∫–∞ –ö–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</h1>
    <button id="run-checks-btn" class="button">–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É</button>
    <div id="results" style="margin-top: 20px;"></div>

    <script>
        // --- –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –ö–æ–Ω—Ç—Ä–∞–∫—Ç (–æ–∂–∏–¥–∞–µ–º—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –ø—Ä–∞–≤–∏–ª–∞) ---
        const GLOBAL_CONTRACT = {
            localStorageKeys: {
                bowlingApp_students: {
                    description: "–ü—Ä–æ—Ñ–∏–ª–∏ —É—á–µ–Ω–∏–∫–æ–≤",
                    structure: { id: "string", name: "string", age: "number", gender: "string", hand: "string", ballType: "string", ballWeight: "number", playStyle: "string", goals: "array_of_string", avgScore: "number" },
                    managedByDomain: "domain-profiles"
                },
                bowlingApp_groups: {
                    description: "–¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ –≥—Ä—É–ø–ø—ã",
                    structure: { id: "string", name: "string", studentIds: "array_of_string" },
                    managedByDomain: "domain-profiles"
                },
                bowlingApp_trainings: {
                    description: "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫",
                    structure: { id: "string", date: "string", time: "string", lane: "string", groupId: "string", studentIds: "array_of_string", topic: "string", attendance: "object" },
                    managedByDomain: "domain-training"
                },
                bowlingApp_itps: {
                    description: "–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ –ø–ª–∞–Ω—ã",
                    structure: { id: "string", studentId: "string", plan: "array_of_object" },
                    managedByDomain: "domain-training"
                },
                bowlingApp_games: {
                    description: "–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–≥—Ä",
                    structure: { id: "string", studentId: "string", date: "string", score: "number", details: "array_of_object" },
                    managedByDomain: "domain-analysis"
                },
                bowlingApp_tournaments: {
                    description: "–¢—É—Ä–Ω–∏—Ä—ã",
                    structure: { id: "string", name: "string", date: "string", type: "string", format: "string", participantIds: "array_of_string", laneAssignments: "object", results: "object" },
                    managedByDomain: "domain-competitions"
                },
                bowlingApp_authState: {
                    description: "–°–æ—Å—Ç–æ—è–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
                    structure: { userId: "string", role: "string" }, // –ü—Ä–∏–º–∏—Ç–∏–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
                    managedByDomain: "domain-admin", // –ò–ª–∏ AuthService
                    managedByService: "AuthService"
                },
                bowlingApp_settings: {
                    description: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è",
                    structure: { theme: "string", notifications: "boolean" },
                    managedByDomain: "domain-admin"
                },
                bowlingApp_notifications: {
                    description: "–°–ø–∏—Å–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π",
                    structure: { id: "string", message: "string", date: "string", read: "boolean" },
                    managedByDomain: "domain-communication", // –ò–ª–∏ NotificationService
                    managedByService: "NotificationService"
                }
            },
            urlParameters: {
                profile_detail_html: {
                    studentId: { type: "string", required: false, description: "ID —É—á–µ–Ω–∏–∫–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è" }
                },
                group_detail_html: {
                    groupId: { type: "string", required: false, description: "ID –≥—Ä—É–ø–ø—ã –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è" }
                },
                training_plan_html: {
                    studentId: { type: "string", required: true, description: "ID —É—á–µ–Ω–∏–∫–∞, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ò–¢–ü" }
                },
                competition_detail_html: {
                    tournamentId: { type: "string", required: false, description: "ID —Ç—É—Ä–Ω–∏—Ä–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö" }
                }
            },
            knownExternalServices: {
                AuthService: { description: "–°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏—è–º–∏" },
                NotificationService: { description: "–°–µ—Ä–≤–∏—Å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π" },
                DataUtilityService: { description: "–û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏" }
            },
            knownDomains: [
                "domain-profiles",
                "domain-training",
                "domain-analysis",
                "domain-competitions",
                "domain-admin",
                "domain-communication"
            ]
        };

        const DOMAIN_FILES = [
            'index.html',
            'profiles.html',
            'profile_detail.html',
            'group_detail.html',
            'schedule.html',
            'training_plan.html',
            'game_entry.html',
            'analytics.html',
            'competitions.html',
            'competition_detail.html',
            'settings.html'
        ];

        const resultsDiv = document.getElementById('results');
        const runChecksBtn = document.getElementById('run-checks-btn');

        runChecksBtn.addEventListener('click', checkContracts);

        async function checkContracts() {
            resultsDiv.innerHTML = '<h2>–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏...</h2>'; // –û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            runChecksBtn.disabled = true;

            const allChecksPassed = [];

            for (const filename of DOMAIN_FILES) {
                let status = '‚úÖ –ü—Ä–æ–π–¥–µ–Ω–æ';
                let messages = [];

                try {
                    const response = await fetch(filename);
                    if (!response.ok) {
                        throw new Error(`–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª ${filename}: ${response.statusText}`);
                    }
                    const htmlText = await response.text();

                    const contractScriptMatch = htmlText.match(/<script type="application\/json"\s+id="domain-contract">([\s\S]*?)<\/script>/);

                    if (!contractScriptMatch) {
                        status = '‚ùå –û—à–∏–±–∫–∞';
                        messages.push('–ù–µ –Ω–∞–π–¥–µ–Ω —Å–∫—Ä–∏–ø—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ —Å id="domain-contract". –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π type/id.');
                        allChecksPassed.push(false);
                        renderResult(filename, status, messages);
                        continue;
                    }

                    const rawContractData = contractScriptMatch[1];
                    const domainContract = JSON.parse(rawContractData);

                    // --- –ü—Ä–æ–≤–µ—Ä–∫–∏ ---

                    // 1. domainName
                    if (!domainContract.domainName) {
                        status = '‚ùå –û—à–∏–±–∫–∞';
                        messages.push('–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç "domainName" –≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ.');
                    } else if (!GLOBAL_CONTRACT.knownDomains.includes(domainContract.domainName)) {
                        status = '‚ùå –û—à–∏–±–∫–∞';
                        messages.push(`–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ –∏–º—è –¥–æ–º–µ–Ω–∞: "${domainContract.domainName}". –î–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ GLOBAL_CONTRACT.knownDomains.`);
                    }

                    // 2. usesLocalStorageKeys
                    if (domainContract.usesLocalStorageKeys) {
                        for (const key of domainContract.usesLocalStorageKeys) {
                            if (!GLOBAL_CONTRACT.localStorageKeys[key]) {
                                status = '‚ùå –û—à–∏–±–∫–∞';
                                messages.push(`–î–µ–∫–ª–∞—Ä–∏—Ä—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ LocalStorage: "${key}".`);
                            }
                            // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç GLOBAL_CONTRACT.localStorageKeys[key].structure
                        }
                    }

                    // 3. writesToLocalStorageKeys
                    if (domainContract.writesToLocalStorageKeys) {
                        for (const key of domainContract.writesToLocalStorageKeys) {
                            if (!GLOBAL_CONTRACT.localStorageKeys[key]) {
                                status = '‚ùå –û—à–∏–±–∫–∞';
                                messages.push(`–î–µ–∫–ª–∞—Ä–∏—Ä—É–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∫–ª—é—á LocalStorage: "${key}".`);
                            } else if (GLOBAL_CONTRACT.localStorageKeys[key].managedByDomain && GLOBAL_CONTRACT.localStorageKeys[key].managedByDomain !== domainContract.domainName) {
                                // –ï—Å–ª–∏ –∫–ª—é—á —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –¥—Ä—É–≥–∏–º –¥–æ–º–µ–Ω–æ–º, —ç—Ç–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞
                                status = '‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ'; // –ò–∑–º–µ–Ω–∏–ª –Ω–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ
                                messages.push(`–î–æ–º–µ–Ω "${domainContract.domainName}" –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ –∫–ª—é—á "${key}", –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –¥–æ–º–µ–Ω–æ–º "${GLOBAL_CONTRACT.localStorageKeys[key].managedByDomain}".`);
                            }
                            // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É, —á—Ç–æ –∑–∞–ø–∏—Å—ã–≤–∞–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç GLOBAL_CONTRACT.localStorageKeys[key].structure
                        }
                    }

                    // 4. expectsUrlParameters
                    const pageName = filename.replace('.html', '').replace(/-/g, '_'); // "profile_detail_html"
                    const expectedParamsForPage = GLOBAL_CONTRACT.urlParameters[pageName];

                    if (expectedParamsForPage && domainContract.expectsUrlParameters) {
                        for (const paramName in expectedParamsForPage) {
                            if (!domainContract.expectsUrlParameters[paramName]) {
                                status = '‚ùå –û—à–∏–±–∫–∞';
                                messages.push(`–°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–∂–∏–¥–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä URL "${paramName}", –Ω–æ –Ω–µ –¥–µ–∫–ª–∞—Ä–∏—Ä—É–µ—Ç –µ–≥–æ.`);
                            } else {
                                if (domainContract.expectsUrlParameters[paramName].type !== expectedParamsForPage[paramName].type) {
                                    status = '‚ùå –û—à–∏–±–∫–∞';
                                    messages.push(`–¢–∏–ø –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ URL "${paramName}" –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç (–æ–∂–∏–¥–∞–µ—Ç—Å—è: "${expectedParamsForPage[paramName].type}", –¥–µ–∫–ª–∞—Ä–∏—Ä—É–µ—Ç—Å—è: "${domainContract.expectsUrlParameters[paramName].type}").`);
                                }
                                if (domainContract.expectsUrlParameters[paramName].required !== expectedParamsForPage[paramName].required) {
                                    status = '‚ùå –û—à–∏–±–∫–∞';
                                    messages.push(`–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ URL "${paramName}" –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç (–æ–∂–∏–¥–∞–µ—Ç—Å—è: "${expectedParamsForPage[paramName].required}", –¥–µ–∫–ª–∞—Ä–∏—Ä—É–µ—Ç—Å—è: "${domainContract.expectsUrlParameters[paramName].required}").`);
                                }
                            }
                        }
                    } else if (expectedParamsForPage && !domainContract.expectsUrlParameters) {
                         status = '‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ';
                         messages.push('–°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ –æ–∂–∏–¥–∞—Ç—å URL-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –Ω–æ –Ω–µ –¥–µ–∫–ª–∞—Ä–∏—Ä—É–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö.');
                    }


                    // 5. usesExternalServices
                    if (domainContract.usesExternalServices) {
                        for (const serviceName of domainContract.usesExternalServices) {
                            if (!GLOBAL_CONTRACT.knownExternalServices[serviceName]) {
                                status = '‚ùå –û—à–∏–±–∫–∞';
                                messages.push(`–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å: "${serviceName}".`);
                            }
                        }
                    }

                    // 6. dependsOnDomainsData
                    if (domainContract.dependsOnDomainsData) {
                        for (const depDomainName of domainContract.dependsOnDomainsData) {
                            if (!GLOBAL_CONTRACT.knownDomains.includes(depDomainName)) {
                                status = '‚ùå –û—à–∏–±–∫–∞';
                                messages.push(`–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞: "${depDomainName}".`);
                            }
                        }
                    }

                    // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—â–∏–π —Å—Ç–∞—Ç—É—Å
                    if (status === '‚ùå –û—à–∏–±–∫–∞') {
                        allChecksPassed.push(false);
                    } else if (status === '‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ' && !allChecksPassed.includes(false)) {
                        // –ï—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å –æ—à–∏–±–∫–∞, —Ç–æ –Ω–µ –º–µ–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å –Ω–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
                        // –ò–Ω–∞—á–µ, –µ—Å–ª–∏ –Ω–µ—Ç –æ—à–∏–±–æ–∫, –Ω–æ –µ—Å—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è, —Å—á–∏—Ç–∞–µ–º, —á—Ç–æ –ø—Ä–æ—à–ª–∏ —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏
                        allChecksPassed.push(true); // –ü—Ä–æ–π–¥–µ–Ω–æ, –Ω–æ —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏
                    } else {
                        allChecksPassed.push(true);
                    }

                } catch (error) {
                    status = '‚ùå –û—à–∏–±–∫–∞';
                    messages.push(`–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞: ${error.message}`);
                    console.error(`–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ ${filename}:`, error);
                    allChecksPassed.push(false);
                }
                renderResult(filename, status, messages);
            }

            const finalStatus = allChecksPassed.every(Boolean) ? '–í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã! ‚ú®' : '–ï—Å—Ç—å –æ—à–∏–±–∫–∏ –∏–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è. üö®';
            resultsDiv.insertAdjacentHTML('afterbegin', `<h2>${finalStatus}</h2>`);
            runChecksBtn.disabled = false;
        }

        function renderResult(filename, status, messages) {
            const div = document.createElement('div');
            div.className = `result-item ${status === '‚úÖ –ü—Ä–æ–π–¥–µ–Ω–æ' ? 'passed' : 'failed'}`;
            // –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å "–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ", —Ç–æ –∫–ª–∞—Å—Å –º–æ–∂–µ—Ç –±—ã—Ç—å 'warning'
            if (status.includes('–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ')) {
                div.className = 'result-item'; // or custom 'warning' class
                div.style.borderLeft = '5px solid #ffc107'; // Yellow border for warnings
                div.style.backgroundColor = '#fffbee';
            }


            let statusText = status;
            if (status.includes('–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ') && messages.length > 0) {
                 statusText = '‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ'; // –ï—Å–ª–∏ –µ—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è, —ç—Ç–æ –∏–º–µ–Ω–Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
            } else if (status.includes('–û—à–∏–±–∫–∞') && messages.length === 0) {
                 statusText = '‚ùå –û—à–∏–±–∫–∞'; // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –±–µ–∑ —Å–æ–æ–±—â–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑-–∑–∞ fetch)
            }


            div.innerHTML = `<h3>${filename}: ${statusText}</h3>`;
            if (messages.length > 0) {
                const ul = document.createElement('ul');
                messages.forEach(msg => {
                    const li = document.createElement('li');
                    li.textContent = msg;
                    if (msg.includes('–û—à–∏–±–∫–∞')) li.style.color = '#dc3545';
                    if (msg.includes('–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ')) li.style.color = '#ffc107';
                    ul.appendChild(li);
                });
                div.appendChild(ul);
            }
            resultsDiv.appendChild(div);
        }

        // –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —á—Ç–æ–±—ã —Å—Ä–∞–∑—É —É–≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        // window.addEventListener('load', checkContracts); // –û—Ç–∫–ª—é—á–µ–Ω–æ, —á—Ç–æ–±—ã –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ –∫–Ω–æ–ø–∫–µ
    </script>
</body>
</html>
